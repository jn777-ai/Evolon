<h1>マイページ</h1>

<div class="button-group">
	<a th:href="@{/my-page/orders}" class="button">購入一覧</a>
	<a th:href="@{/my-page/selling}" class="button">出品一覧</a>
	<a th:href="@{/my-page/sales}">販売履歴</a>
	<a th:href="@{/items}" class="button secondary">商品一覧へ</a>

  <a th:href="@{/my-page/orders}" class="button">購入一覧</a>
  <a th:href="@{/my-page/selling}" class="button">出品一覧</a>
  <a th:href="@{/my-page/sales}">販売履歴</a>
  <a th:href="@{/items}" class="button secondary">商品一覧へ</a>
  <a th:href="@{/my-page/profile/edit}">アカウントを管理</a>
</div>

<hr>

<h2>出品中（プレビュー）</h2>
<table>
	<thead>
		<tr>
			<th>商品名</th>
			<th>価格</th>
			<th>ステータス</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="item : ${items}">
			<td th:text="${item.name}"></td>
			<td th:text="'¥' + ${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')}"></td>
			<td th:text="${item.status.label}"></td>
		</tr>
		<tr th:if="${#lists.isEmpty(items)}">
			<td colspan="3">出品中の商品はありません。</td>
		</tr>
	</tbody>
</table>

<a th:href="@{/my-page/selling}" class="button secondary">出品一覧をもっと見る</a>
<hr>

<h2 style="color:#b00020;">退会</h2>
<p>退会するとログインできなくなります。この操作は取り消せません。</p>

<form th:action="@{/account/delete}" method="post" onsubmit="return confirm('本当に退会しますか？この操作は取り消せません。');">
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
	<button type="submit" class="button" style="background:#b00020; color:white;">
		アカウントを削除（退会）
	</button>
</form>